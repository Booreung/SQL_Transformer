[
  {
    "source_file": "sample\\sampleSQL.xml",
    "sql_id": "retrieveCmsUnmbCrdtInrtRt",
    "sql_type": "select",
    "comment": "CMS 자동이체 처리 위한 이자율, 3개월이하 연체이자율, 3개월초과 연체이자율 조회",
    "original": "SELECT /* SQL_ID : Qblo001m_01DAO.retrieveCmsUnmbCrdtInrtRt */ MAX(lnInrt) AS lnInrt ,MAX(bfrDlyInrt) AS bfrDlyInrt ,MAX(aftrDlyInrt) AS aftrDlyInrt FROM ( SELECT CASE WHEN LN_RAT_DCD = '0007' THEN TO_NUMBER(NVL(SUBSTR(MAX(LN_RAT_STRT_DT || TO_CHAR(LN_INRT)),9), '0')) ELSE 0 END AS lnInrt ,CASE WHEN LN_RAT_DCD = '0008' THEN TO_NUMBER(NVL(SUBSTR(MAX(LN_RAT_STRT_DT || TO_CHAR(LN_INRT)),9), '0')) ELSE 0 END AS bfrDlyInrt ,CASE WHEN LN_RAT_DCD = '0009' THEN TO_NUMBER(NVL(SUBSTR(MAX(LN_RAT_STRT_DT || TO_CHAR(LN_INRT)),9), '0')) ELSE 0 END AS aftrDlyInrt FROM BLO001M A /* BLO_융자요율기본 */ ,( SELECT /*+ index_desc(A PK_BUM206H) */ UNMB_NO ,EVLT_DT ,CRDT_EVLT_GRD_CD FROM BUM206H A /* BUM_조합원등급이력 */ WHERE UNMB_NO = #unmbNo# AND ROWNUM = 1 ) B WHERE 1=1 AND A.LN_GDS_CD = #lnGdsCd# AND A.CRDT_EVLT_GRD_CD = B.CRDT_EVLT_GRD_CD AND A.LN_RAT_DCD IN ('0007','0008','0009') AND A.LN_RAT_STRT_DT <= TO_CHAR(SYSDATE,'YYYYMMDD') AND A.LN_RAT_END_DT >= TO_CHAR(SYSDATE,'YYYYMMDD') AND A.US_YN = 'Y' GROUP BY LN_RAT_DCD )",
    "converted": "SELECT /* SQL_ID : Qblo001m_01DAO.retrieveCmsUnmbCrdtInrtRt */ MAX(lnInrt) AS lnInrt ,MAX(bfrDlyInrt) AS bfrDlyInrt ,MAX(aftrDlyInrt) AS aftrDlyInrt FROM ( SELECT CASE WHEN RATE_TYPE = '0007' THEN TO_NUMBER(NVL(SUBSTR(MAX(START_DATE || TO_CHAR(INTEREST_RATE)),9), '0')) ELSE 0 END AS lnInrt ,CASE WHEN RATE_TYPE = '0008' THEN TO_NUMBER(NVL(SUBSTR(MAX(START_DATE || TO_CHAR(INTEREST_RATE)),9), '0')) ELSE 0 END AS bfrDlyInrt ,CASE WHEN RATE_TYPE = '0009' THEN TO_NUMBER(NVL(SUBSTR(MAX(START_DATE || TO_CHAR(INTEREST_RATE)),9), '0')) ELSE 0 END AS aftrDlyInrt FROM LN_RATE A /* BLO_융자요율기본 */ ,( SELECT /*+ index_desc(A PK_BUM206H) */ UNMB_NO ,EVLT_DT ,CREDIT_CD FROM BUM206H A /* BUM_조합원등급이력 */ WHERE UNMB_NO = #unmbNo# AND ROWNUM = 1 ) B WHERE 1=1 AND A.PRODUCT_CD = #lnGdsCd# AND A.CREDIT_CD = B.CREDIT_CD AND A.RATE_TYPE IN ('0007','0008','0009') AND A.START_DATE <= TO_CHAR(SYSDATE,'YYYYMMDD') AND A.END_DATE >= TO_CHAR(SYSDATE,'YYYYMMDD') AND A.USE_YN = 'Y' GROUP BY RATE_TYPE )"
  }
]